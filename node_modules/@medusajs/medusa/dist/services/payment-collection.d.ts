import { DeepPartial, EntityManager } from "typeorm";
import { FindConfig } from "../types/common";
import { PaymentCollectionRepository } from "../repositories/payment-collection";
import { PaymentCollection, PaymentSession } from "../models";
import { TransactionBaseService } from "../interfaces";
import { CustomerService, EventBusService, PaymentProviderService } from "./index";
import { CreatePaymentCollectionInput, PaymentCollectionSessionInput } from "../types/payment-collection";
declare type InjectedDependencies = {
    manager: EntityManager;
    paymentCollectionRepository: typeof PaymentCollectionRepository;
    paymentProviderService: PaymentProviderService;
    eventBusService: EventBusService;
    customerService: CustomerService;
};
export default class PaymentCollectionService extends TransactionBaseService {
    static readonly Events: {
        CREATED: string;
        UPDATED: string;
        DELETED: string;
        PAYMENT_AUTHORIZED: string;
    };
    protected readonly manager_: EntityManager;
    protected transactionManager_: EntityManager | undefined;
    protected readonly eventBusService_: EventBusService;
    protected readonly paymentProviderService_: PaymentProviderService;
    protected readonly customerService_: CustomerService;
    protected readonly paymentCollectionRepository_: typeof PaymentCollectionRepository;
    constructor({ manager, paymentCollectionRepository, paymentProviderService, customerService, eventBusService, }: InjectedDependencies);
    retrieve(paymentCollectionId: string, config?: FindConfig<PaymentCollection>): Promise<PaymentCollection>;
    create(data: CreatePaymentCollectionInput): Promise<PaymentCollection>;
    update(paymentCollectionId: string, data: DeepPartial<PaymentCollection>): Promise<PaymentCollection>;
    delete(paymentCollectionId: string): Promise<PaymentCollection | undefined>;
    private isValidTotalAmount;
    setPaymentSessions(paymentCollectionId: string, sessions: PaymentCollectionSessionInput[] | PaymentCollectionSessionInput): Promise<PaymentCollection>;
    refreshPaymentSession(paymentCollectionId: string, sessionId: string, sessionInput: Omit<PaymentCollectionSessionInput, "amount">): Promise<PaymentSession>;
    markAsAuthorized(paymentCollectionId: string): Promise<PaymentCollection>;
    authorize(paymentCollectionId: string, context?: Record<string, unknown>): Promise<PaymentCollection>;
}
export {};
