import { PaymentRepository } from "./../repositories/payment";
import { EntityManager } from "typeorm";
import { Payment, Refund } from "../models";
import { TransactionBaseService } from "../interfaces";
import { EventBusService, PaymentProviderService } from "./index";
import { FindConfig } from "../types/common";
declare type InjectedDependencies = {
    manager: EntityManager;
    paymentProviderService: PaymentProviderService;
    eventBusService: EventBusService;
    paymentRepository: typeof PaymentRepository;
};
export declare type PaymentDataInput = {
    currency_code: string;
    provider_id: string;
    amount: number;
    data: Record<string, unknown>;
};
export default class PaymentService extends TransactionBaseService {
    protected readonly manager_: EntityManager;
    protected transactionManager_: EntityManager | undefined;
    protected readonly eventBusService_: EventBusService;
    protected readonly paymentProviderService_: PaymentProviderService;
    protected readonly paymentRepository_: typeof PaymentRepository;
    static readonly Events: {
        CREATED: string;
        UPDATED: string;
        PAYMENT_CAPTURED: string;
        PAYMENT_CAPTURE_FAILED: string;
        REFUND_CREATED: string;
        REFUND_FAILED: string;
    };
    constructor({ manager, paymentRepository, paymentProviderService, eventBusService, }: InjectedDependencies);
    retrieve(paymentId: string, config?: FindConfig<Payment>): Promise<Payment>;
    create(paymentInput: PaymentDataInput): Promise<Payment>;
    update(paymentId: string, data: {
        order_id?: string;
        swap_id?: string;
    }): Promise<Payment>;
    capture(paymentOrId: string | Payment): Promise<Payment>;
    refund(paymentOrId: string | Payment, amount: number, reason: string, note?: string): Promise<Refund>;
}
export {};
